# 5分钟快速体验 V4.0 视频合成

## 🚀 快速开始

本指南将帮助您在5分钟内体验完整的视频制作流程。

---

## 前置准备

### 1. 安装系统依赖

```bash
# Ubuntu/Debian
sudo apt-get install ffmpeg

# macOS
brew install ffmpeg
```

### 2. 安装Python依赖

```bash
pip install -r requirements.txt
```

### 3. 配置API密钥

编辑 `config/settings.json`:

```json
{
  "ai": {
    "provider": "openai",
    "api_key": "你的OpenAI API密钥",
    "model": "gpt-4"
  },
  "ai_image": {
    "provider": "dalle",
    "api_key": "你的OpenAI API密钥"
  }
}
```

---

## 🎬 体验1: 完整工作流（5分钟）

从主题到视频的一站式体验。

```bash
python main.py
```

**操作步骤**:

1. **选择功能**: 输入 `13` (完整工作流)

2. **选择主题**:
   - 输入 `1` (生成新主题)
   - 等待5秒,系统生成5个主题建议
   - 选择喜欢的主题编号,如 `1`

3. **生成脚本**:
   - 输入 `Y` 确认生成脚本
   - 等待1-2分钟,AI生成完整脚本

4. **合成视频**:
   - 输入 `Y` 确认合成视频
   - 等待2-5分钟,自动合成完成

**输出**:
```
🎉 完整工作流完成!
============================================================
   主题: 量子计算的奇妙世界
   脚本: 量子计算入门指南
   视频: ./output/videos/量子计算入门指南_20250102_143022.mp4
```

---

## 🎨 体验2: 从脚本生成视频（3分钟）

如果已有脚本,快速生成视频。

```bash
python main.py
```

**操作步骤**:

1. **选择功能**: 输入 `11` (从脚本生成视频)

2. **选择脚本**:
   - 输入 `1` (从最近的脚本选择)
   - 选择脚本编号,如 `1`

3. **确认合成**:
   - 查看预估信息
   - 输入 `Y` 开始合成

**输出**:
```
🎉 视频已生成: ./output/videos/my_video_20250102_150322.mp4
```

---

## 🔍 体验3: 预览素材推荐（1分钟）

在合成前查看素材匹配情况。

```bash
python main.py
```

**操作步骤**:

1. **选择功能**: 输入 `12` (预览素材推荐)

2. **选择脚本**:
   - 输入 `1`
   - 选择编号

**输出示例**:
```
🔍 素材推荐预览: 量子计算的奇妙世界
============================================================

1. 引言 - 什么是量子计算
   1) 量子芯片特写 (匹配度: 85%)
      类型: image | 标签: 量子, 芯片, 科技
      原因: 标签高度匹配，且为AI生成素材
   2) 计算机演进史 (匹配度: 72%)
      ...
```

---

## 📝 准备素材（可选）

如果素材库为空,系统会使用黑屏。建议先准备一些素材:

### 方式1: 添加已有素材

```bash
python main.py
```

选择 `10` → `1` (添加素材):

```
文件路径: materials/images/quantum.jpg
类型: 1 (图片)
名称: 量子计算示意图
描述: 量子计算机的核心原理图
分类: 科技
标签: 量子,计算机,科技,芯片
```

### 方式2: AI生成素材

```bash
python main.py
```

选择 `10` → `5` (生成图片):

```
请输入图片描述: 一个未来感的量子计算机芯片特写，科技风格，蓝色调
尺寸: 1 (1024x1024)
生成数量: 2
是否保存到素材库? Y
```

---

## 📊 配置优化

### 快速合成配置 (推荐新手)

编辑 `config/settings.json`:

```json
{
  "video": {
    "fps": 24,
    "resolution": [1280, 720],           // 720p更快
    "default_image_duration": 4.0,       // 每章4秒
    "show_narration_text": true,         // 显示文字
    "text_size": 40
  }
}
```

### 高质量配置

```json
{
  "video": {
    "fps": 30,
    "resolution": [1920, 1080],          // 1080p
    "default_image_duration": 6.0,       // 每章6秒
    "show_narration_text": true,
    "text_size": 50
  }
}
```

---

## 🎯 推荐工作流

### 第一次使用

```
1. 生成主题建议 (菜单1)
2. 从主题生成脚本 (菜单6)
3. AI生成配图素材 (菜单10→6)
4. 从脚本生成视频 (菜单11)
```

### 日常使用

```
1. 完整工作流 (菜单13) - 一键完成
   或
2. 从收藏主题生成 (菜单5→选择主题→生成脚本)
3. 预览素材推荐 (菜单12)
4. 调整素材 (如需要)
5. 生成视频 (菜单11)
```

---

## 🐛 常见问题快速解决

### 问题1: "moviepy未安装"

```bash
pip install moviepy imageio imageio-ffmpeg
```

### 问题2: "找不到FFmpeg"

```bash
# Ubuntu/Debian
sudo apt-get install ffmpeg

# 检查安装
ffmpeg -version
```

### 问题3: "API密钥错误"

检查 `config/settings.json` 中的 `api_key` 是否正确。

### 问题4: "未找到素材"

系统会使用黑屏代替。建议:
1. 使用菜单10添加素材
2. 或使用菜单10→5 AI生成素材

### 问题5: 视频合成太慢

1. 降低分辨率: `"resolution": [1280, 720]`
2. 降低帧率: `"fps": 24`
3. 减少章节数

---

## 📈 进阶使用

### 1. 批量生成素材

为一个脚本批量生成配图:

```bash
python main.py
```

选择 `10` → `6` (根据脚本生成图片):

```
请输入脚本章节信息:
章节名称: 量子叠加
旁白内容: 量子叠加是...
视觉提示: 薛定谔的猫实验示意图
生成数量: 2
```

### 2. 素材管理

浏览和管理素材:

```bash
python main.py
```

选择 `10` → `2` (浏览素材):
- 按类型筛选
- 按分类筛选
- 查看统计
- 评分和更新

### 3. 主题收藏

收藏好的主题以便重复使用:

1. 生成或浏览主题
2. 选择喜欢的主题
3. 添加到收藏
4. 下次直接从收藏选择（菜单5）

---

## 📚 下一步学习

- [完整文档](README.md) - 了解所有功能
- [视频编辑器指南](VIDEO_EDITOR_GUIDE.md) - 深入视频制作
- [素材管理指南](MATERIAL_MANAGER_GUIDE.md) - 素材库管理
- [v4.0更新说明](VERSION_4.0_SUMMARY.md) - 新功能详解

---

## 🎉 开始创作

现在您已经掌握了基本操作,开始创作您的科普视频吧！

```bash
python main.py
```

**提示**: 第一次使用建议选择菜单13（完整工作流）,体验完整的自动化流程。

---

**祝您创作愉快！** 🚀
